defaults:
  path-prefix:         '<OCR_GT_BASEDIR>/../example'
  correction-root:     '/ocr-corrections'
  images-root:         '/fileadmin'
  correction-filename: 'correction.html'
  comments-filename:   'anmerkungen.txt'
  debuglog:            '/tmp/ocr-gt.log'
  url-prefix:          'http://localhost:9090'

pattern:
  - |
    ^
    https?://(?<hostname>[^/]+)
    /fileadmin
    /(?<collection>[^/]+)
    /(?<work>[^/]+)
    /[^\/]+
    /[^_]+_(?<page>\d+)
    .*
    $
  - |
    /(?<collection>[^/]+)
    /(?<work>[^/]+)
    /gt
    /(?<page>[^/]+)
    /[^/]+
    $
  - |
    /(?<collection>[^/]+)
    /(?<work>[^/]+)
    /(?<page>[^/]+)
    $


# in this order
template:
  url:
    thumb-url:      '<url-prefix><images-root>/<collection>/<work>/thumb/<work>_<page>.jpg'
    hires-url:      '<url-prefix><images-root>/<collection>/<work>/max/<work>_<page>.jpg'
    alto-url:       '<url-prefix><images-root>/<collection>/<work>/alto/<work>_<page>.alto'
    correction-url: '<url-prefix><correction-root>/<collection>/<work>/gt/<page>/<correction-filename>'
    comment-url:    '<url-prefix><correction-root>/<collection>/<work>/gt/<page>/<comments-filename>'
  path:
    correction-dir:        '<path-prefix><correction-root>/<collection>/<work>/gt/<page>'
    correction-file:       '<path-prefix><correction-root>/<collection>/<work>/gt/<page>/<correction-filename>'
    comment-file:          '<path-prefix><correction-root>/<collection>/<work>/gt/<page>/<comments-filename>'
    hocr-file:             '<path-prefix><images-root>/<collection>/<work>/hocr/<work>_<page>.hocr'
    hires-dir:             '<path-prefix><images-root>/<collection>/<work>/max'
    hires-file:            '<path-prefix><images-root>/<collection>/<work>/max/<work>_<page>.jpg'
  command:
    find-corrections-for-work:
      - 'find'
      - '<path-prefix><correction-root>/<collection>/<work>'
      - '-type'
      - 'f'
      - '-name'
      - '<correction-filename>'
    build-correction-html:
      - '<OCR_GT_BASEDIR>/ocropus-gtedit-wrapper.sh'
      - '<hocr-file>'
      - '<hires-dir>'
      - '<correction-file>'
      - '<comment-file>'
